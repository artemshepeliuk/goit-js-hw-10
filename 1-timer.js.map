{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst datetimePicker = document.getElementById(\"datetime-picker\");\n    const timerButton = document.querySelector(\".timer-btn\");\n    const timerFields = {\n      days: document.querySelector(\"[data-days]\"),\n      hours: document.querySelector(\"[data-hours]\"),\n      minutes: document.querySelector(\"[data-minutes]\"),\n      seconds: document.querySelector(\"[data-seconds]\")\n    };\n    let userSelectedDate = null;\n    let countdownInterval = null;\n\ntimerButton.disabled = true;\n    \n    flatpickr(datetimePicker, {\n      enableTime: true,\n      time_24hr: true,\n      defaultDate: new Date(),\n      minuteIncrement: 1,\n      onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if (userSelectedDate && userSelectedDate.getTime() > new Date().getTime()) {\n      timerButton.disabled = false;\n    } else {\n          iziToast.error({\n            title: 'Error',\n            message: 'Please choose a date in the future',\n            position: 'topRight',\n            timeout: 3000\n          });\n\n            timerButton.disabled = true;\n        }\n      }\n    });\n\n    function addLeadingZero(value) {\n      return String(value).padStart(2, \"0\");\n    }\n\n    function convertMs(ms) {\n      const second = 1000;\n      const minute = second * 60;\n      const hour = minute * 60;\n      const day = hour * 24;\n\n      const days = Math.floor(ms / day);\n      const hours = Math.floor((ms % day) / hour);\n      const minutes = Math.floor((ms % hour) / minute);\n      const seconds = Math.floor((ms % minute) / second);\n\n      return { days, hours, minutes, seconds };\n    }\n\n    function updateTimer() {\n      const timeLeft = userSelectedDate - new Date();\n      if (timeLeft <= 0) {\n        clearInterval(countdownInterval);\n        datetimePicker.disabled = false;\n        timerButton.disabled = false;\n        return;\n      }\n\n      const { days, hours, minutes, seconds } = convertMs(timeLeft);\n\n      timerFields.days.textContent = addLeadingZero(days);\n      timerFields.hours.textContent = addLeadingZero(hours);\n      timerFields.minutes.textContent = addLeadingZero(minutes);\n      timerFields.seconds.textContent = addLeadingZero(seconds);\n    }\n\n    timerButton.addEventListener(\"click\", () => {\n      timerButton.disabled = true;\n      datetimePicker.disabled = true;\n      countdownInterval = setInterval(updateTimer, 1000);\n    });\n"],"names":["datetimePicker","timerButton","timerFields","userSelectedDate","countdownInterval","flatpickr","selectedDates","iziToast","addLeadingZero","value","convertMs","ms","days","hours","minutes","seconds","updateTimer","timeLeft"],"mappings":"+IAMA,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EACtDC,EAAc,SAAS,cAAc,YAAY,EACjDC,EAAc,CAClB,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CACtD,EACI,IAAIC,EAAmB,KACnBC,EAAoB,KAE5BH,EAAY,SAAW,GAEnBI,EAAUL,EAAgB,CACxB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQM,EAAe,CACrBH,EAAmBG,EAAc,CAAC,EAC9BH,GAAoBA,EAAiB,QAAO,EAAK,IAAI,KAAI,EAAG,UAClEF,EAAY,SAAW,IAEnBM,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,SAAU,WACV,QAAS,GACrB,CAAW,EAECN,EAAY,SAAW,GAE5B,CACP,CAAK,EAED,SAASO,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC,CAED,SAASC,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAOH,EAAK,KAAQ,GAAM,EACzCI,EAAU,KAAK,MAAOJ,EAAK,IAAU,GAAM,EAEjD,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,SAASC,GAAc,CACrB,MAAMC,EAAWd,EAAmB,IAAI,KACxC,GAAIc,GAAY,EAAG,CACjB,cAAcb,CAAiB,EAC/BJ,EAAe,SAAW,GAC1BC,EAAY,SAAW,GACvB,MACD,CAED,KAAM,CAAE,KAAAW,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUO,CAAQ,EAE5Df,EAAY,KAAK,YAAcM,EAAeI,CAAI,EAClDV,EAAY,MAAM,YAAcM,EAAeK,CAAK,EACpDX,EAAY,QAAQ,YAAcM,EAAeM,CAAO,EACxDZ,EAAY,QAAQ,YAAcM,EAAeO,CAAO,CACzD,CAEDd,EAAY,iBAAiB,QAAS,IAAM,CAC1CA,EAAY,SAAW,GACvBD,EAAe,SAAW,GAC1BI,EAAoB,YAAYY,EAAa,GAAI,CACvD,CAAK"}